<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/reset.css" type="text/css">
    <link rel="stylesheet" href="css/login.css" type="text/css">
    <script type="text/javascript" src="js/jquery-3.2.1.js"></script>
    <title>Title</title>
</head>
<body>
    <div class="container">
        <div id="main">
            <div id="logo"><img src="images/logo.png" alt="login"></div>
            <div id="info">
                
                    <input id="username" type="text" placeholder="请输入用户名" onblur="user()">
                    <span id="user_img"></span>
                    <p id="user_tip"></p>
                    <input id="password" type="password" placeholder="请输入密码" onblur="pwd()">
                    <span id="pwd_img"></span>
                    <p id="pwd_tip"></p>
                    <select  id="type">
                        <option value="1">系统管理员</option>
                        <option value="2">经理</option>
                        <option value="3">售票员</option>
                    </select>
                    <button id="submit" onclick="checkAll()">登   录</button>
               
            </div>
        </div>
    </div>
    <script>
        var username=document.getElementById('username');
        var password=document.getElementById('password');
//        var type=document.getElementById('type');
        var submit=document.getElementById('submit');
        username.focus();
       function user() {
            if(!/^[0-9a-zA-Z]{6,20}$/.test(username.value)){
                document.getElementById('user_img').innerHTML="<img src='images/error.png'>";
                document.getElementById('user_tip').innerHTML="*请输入6-20位的字母或数字的用户名！";
                username.focus();
                return false;
            }else{
                document.getElementById('user_img').innerHTML="<img src='images/right.png'>";
                document.getElementById('user_tip').innerHTML="";
                return true;
            }
        }
       function pwd() {
            if(!/^[0-9a-zA-Z]{6,20}$/.test(password.value)){
                document.getElementById('pwd_img').innerHTML="<img src='images/error.png'>";
                document.getElementById('pwd_tip').innerHTML="*请输入6-20位的字母或数字的密码！";
                password.focus();
                return false;
            }else{
                document.getElementById('pwd_img').innerHTML="<img src='images/right.png'>";
                document.getElementById('pwd_tip').innerHTML="";
                return true;
            }

        }
        function checkAll() {
            if(!user() || !pwd()){
              return false;
            }else{
            	var c = $('#username').val();
            	var d =$('#password').val();
            	console.log(c);
            	console.log(d)
            	$.ajax({
            		type:"post",
					url:"http://127.0.0.1:8080/11111/Login_1",
					dataType:"json",
					data:{user:$('#username').val(),pass:$('#password').val()},
					success:function(e){
						console.log("cheggong");
					},
					eerror:function(e){
						console.log("shibai");
					}
            	});
////              return true;
//				window.open("index.html");
            }
        }
    </script>
</body>
</html>